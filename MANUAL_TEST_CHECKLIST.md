# 릴리즈 수동 테스트 체크리스트

이 문서는 `jmemo` 릴리즈 전 최소 수동 검증 항목을 고정한다.  
판정 기준: 치명/주요 결함 `0건`, 차선 결함은 티켓 등록 후 릴리즈 승인 가능.

## 1) 사전 준비
- [ ] `.env`에 `MONGODB_URI`가 설정되어 있고 `node --env-file=.env scripts/check-env.mjs`가 성공한다.
- [ ] Atlas `IP Access List`에 로컬(`221.150.15.64/32`)과 운영(`159.223.120.99/32`)이 등록되어 있다.
- [ ] 테스트 시작 시점의 앱 버전(커밋 SHA)과 테스트 환경(로컬/운영)을 기록한다.

## 2) 핵심 플로우(Smoke)
- [ ] 노트 생성 -> 조회 -> 수정 -> 삭제가 모두 정상 동작한다.
- [ ] 태그 추가/수정/삭제 후 태그 검색이 대소문자 무시 + OR 조건으로 동작한다.
- [ ] 기본 정렬이 `favorite desc -> moddate desc -> _id desc` 순서로 보인다.

## 3) 에디터/Vim
- [ ] `:w` 저장 성공 시 저장 상태가 즉시 반영된다.
- [ ] `:wq` 저장 성공 시 원본과 동일하게 `view/:id` 또는 `view/:newId`로 이동한다.
- [ ] 저장 실패를 유도했을 때(예: URI 오타) 편집 내용이 유지되고 종료/이동되지 않는다.
- [ ] `Cmd/Ctrl + S`, 저장 버튼, `:w`가 동일 결과를 낸다.

## 4) Preview 동기화
- [ ] 커서 이동 시 현재 블록이 Preview에 즉시 반영된다.
- [ ] 빠른 커서 이동에서도 과도한 튐 없이 동기화된다.
- [ ] 매핑 실패 케이스에서 `이전 블록 -> 첫 블록 -> 동기화 생략` fallback이 적용된다.

## 5) 이미지 업로드/정리
- [ ] 드롭 업로드 성공 시 Markdown 링크가 자동 삽입된다.
- [ ] 허용 형식(`jpg/jpeg/png/gif/webp`)만 업로드되고, SVG/초과 용량(10MB+)은 거부된다.
- [ ] 노트 수정/삭제 시 orphan 이미지 즉시 정리가 시도되고 실패 시 앱 동작은 유지된다.

## 6) 배포 직전 데이터 검증
- [ ] `migrate:reset --archive <path> --yes` 실행 후 데이터 건수/샘플 문서가 기대값과 일치한다.
- [ ] 실패 시 drop 후 동일 아카이브로 재실행하여 정상 복구된다.

## 7) 서명
- [ ] 테스트 수행자:
- [ ] 수행 일시(UTC):
- [ ] 대상 커밋 SHA:
- [ ] 결과: PASS / FAIL
- [ ] 비고(발견 이슈 링크):
